var emailOk=!1,loginOk=!1,passwordsOk=!1,termsOk=!1;window.onload=function(){var a=document.getElementById('registerButton');a.addEventListener('click',register);var b=document.getElementById('loginButton');b.addEventListener('click',login);var c=document.getElementById('registerEmail');c.addEventListener('keyup',callCheckEmail),c.addEventListener('paste',callCheckEmail);var d=document.getElementById('registerLogin');d.addEventListener('keyup',callCheckLogin),d.addEventListener('paste',callCheckLogin);var e=document.getElementById('registerPassword'),f=document.getElementById('repeatPassword');e.addEventListener('keyup',callCheckPasswords),e.addEventListener('paste',callCheckPasswords),f.addEventListener('keyup',callCheckPasswords),f.addEventListener('paste',callCheckPasswords);var g=document.getElementById('registerTerms');g.addEventListener('change',function(){checkTerms()}),checkEmail(),checkLogin(),checkPasswords(),checkTerms(),console.log('Init completed')};function callCheckEmail(){setTimeout(checkEmail,0)}function checkEmail(){var a=document.getElementById('registerEmail');emailOk=!!a.value,refreshRegisterButton()}function callCheckLogin(){setTimeout(checkLogin,0)}function checkLogin(){var a=document.getElementById('registerLogin');a.value&&1<a.value.length?(loginOk=!0,document.getElementById('loginError').hidden=!0):(loginOk=!1,document.getElementById('loginError').hidden=!1),refreshRegisterButton()}function checkTerms(){termsOk=registerTerms.checked;var a=document.getElementById('termsError');a.hidden=!!termsOk,refreshRegisterButton()}function callCheckPasswords(){setTimeout(checkPasswords,0)}function checkPasswords(){var a=document.getElementById('passwordError'),b=document.getElementById('repeatError');a.hidden=!0,b.hidden=!0;var c=document.getElementById('registerPassword'),d=document.getElementById('repeatPassword'),e=document.getElementById('registerButton');return 8>c.value.length?(a.hidden=!1,passwordsOk=!1,void refreshRegisterButton()):c.value==d.value?void(passwordsOk=!0,refreshRegisterButton()):(b.hidden=!1,passwordsOk=!1,void refreshRegisterButton())}function refreshRegisterButton(){var a=document.getElementById('registerButton');a.disabled=emailOk&&loginOk&&passwordsOk&&termsOk?!1:!0}function register(){document.getElementById('alertRegister').hidden=!0,document.getElementById('registerButton').disabled=!0;for(var a=document.getElementById('registerForm'),b=a.getElementsByTagName('input'),c={},d=0;d<b.length;d++)c[b[d].id]=b[d].value;var e=JSON.stringify(c),f=new XMLHttpRequest;f.open('POST','/stickarena/register',!0),f.setRequestHeader('Content-Type','application/json'),f.responseType='json',f.onreadystatechange=function(){4==f.readyState&&200==f.status&&handleRegisterResponse(f.response)},f.send(e)}function handleRegisterResponse(a){a.error?setTimeout(function(){var b=document.getElementById('alertRegister');b.innerText='B\u0142\u0105d: '+a.error,b.hidden=!1,document.getElementById('registerButton').disabled=!1},500):window.location.href='./'}function login(){document.getElementById('alertLogin').hidden=!0,document.getElementById('loginButton').disabled=!0;for(var a=document.getElementById('loginForm'),b=a.getElementsByTagName('input'),c={},d=0;d<b.length;d++)c[b[d].id]=b[d].value;var e=JSON.stringify(c),f=new XMLHttpRequest;f.open('POST','/stickarena/login',!0),f.setRequestHeader('Content-Type','application/json'),f.responseType='json',f.onreadystatechange=function(){4==f.readyState&&200==f.status&&handleLoginResponse(f.response)},f.send(e)}function handleLoginResponse(a){a.error?setTimeout(function(){var b=document.getElementById('alertLogin');b.innerText='B\u0142\u0105d: '+a.error,b.hidden=!1,document.getElementById('loginButton').disabled=!1},500):window.location.href='./'}